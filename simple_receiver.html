<!DOCTYPE html>
<html>
	<head>
		<meta charset=utf-8>
		<title>My first three.js app</title>
	</head>
	<body>
		<script>
			let url = "ws://127.0.0.1:8765";
			let connection = new WebSocket(url);
			// connection.binaryType = "arraybuffer";
			connection.onmessage = function (msg) {
				let ul = document.getElementById("messages");
				let li = document.createElement("li");
				li.appendChild(document.createTextNode(msg.data));
				ul.appendChild(li);
				// console.log(msg)
				// document.getElementById("messages").push_back(`<li>${msg.data}</li>`);
			};
			connection.onclose = function (evt) {
				console.log("closed");
			}
		</script>
		<div>
			<ul id="messages">
			</ul>
		</div>
	</body>
</html>